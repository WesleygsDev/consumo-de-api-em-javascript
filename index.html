<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/resources/demos/style.css">

  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
  <style>
    #draggable { width: 100px; height: 100px; padding: 0.5em; float: left; margin: 10px 10px 10px 0; }
  #droppable { width: 150px; height: 150px; padding: 0.5em; float: left; margin: 10px; }
  </style>
</head>
<body>
    <form>
        <input type="text" name="name" id="name">
        <input type="submit" value="pesquisar">
    </form>
    <div id="imagem" draggable="true" class="ui-widget-content"></div>
    <div id="conteudo"></div>
    <div id="retorno" style="border:solid 1px red;"></div>

    <div id="droppable" class="ui-widget-header">
        <p>Drop here</p>
      </div>
    <script>
        //Aqui estamos selecionando o formulário
        let formulario = document.querySelector('form');
        
        //essa função é responsável por ao clicar em submit dispara uma ação de requisição da API
        formulario.addEventListener('submit',function(e){
            // Abaixo bloqueia o reflesh da página
            e.preventDefault();

            let urlApi = "https://pokeapi.co/api/v2/pokemon/";
            console.log(urlApi);

            let name = document.getElementById('name');
            // Aqui estamos cocatenando com o valor do input com a url
            urlApi = urlApi + this.name.value;
            urlApi = urlApi.toLowerCase();
            // Criando a resposta no documento
            let resposta = document.getElementById('conteudo');
            //resposta em HTML
            // Aqui estamos pegando a url com o valor e solicitando a resposta da API
            fetch(urlApi)
                .then(resposta => resposta.json())
                .then(function(data){
                    // retorno da div 
                    //let retorno = documen.getElementById('retorno');            
                    let imagem = document.getElementById('imagem');
                    let conteudo = document.getElementById('conteudo');


                    let retorno2 = imagem.innerHTML = "<img src='" + data.sprites.front_default + "'>";
                    console.log(retorno2);

                    let retorno3 = conteudo.innerHTML = "<p>"+ data.name +"</p>";
                    console.log(retorno3);
                });
        });

        $( function() {
    $( "#imagem" ).draggable();
    $( "#droppable" ).droppable({
      drop: function( event, ui ) {
        $( this )
          .addClass( "ui-state-highlight" )
          .find( "p" )
            .html( "Dropped!" );
      }
    });
  } )
        
    </script>
</body>
</html>